$(document).ready(function(){var c,i,h=!1,r={},s={keys:["name"]},v=$(".readme-container"),l=$(".search-result"),o=$(".search-input-section"),b=$(".mui-dropdown__menu"),w=$(".mui-dropdown");function d(e,a,t){v.html("").append(e),$("#readme").prepend(t);for(var n,r,s=$("h6 a, h5 a, h4 a, h3 a, h2 a, h1 a"),o=$('#readme a[href^="#"]').not(".anchor"),c=a.split("/")[3],i=a.split("/")[4],h="https://raw.githubusercontent.com/"+c+"/"+i+"/master/",l="https://github.com/"+c+"/"+i+"/blob/master",d=$("img"),u=0,p=d.length;u<p;++u){k(g=$(d[u]).attr("src"))||(g=g.startsWith("/")?g:"/"+g,$(d[u]).attr("src",h+g))}for(u=0,p=o.length;u<p;++u){$(o[u]).attr({class:"cate-anchor","data-anchor":$(o[u]).attr("href")}).removeAttr("href")}for(u=0,p=s.length;u<p;++u)if(s[u].id=s[u].id.replace("user-content-",""),s[u].id){var m="",f="━ ";"H1"===(n=$(s[u]).parent()[0].nodeName)?(m="cate-anchor-h1",f=""):"H2"===n?m="cate-anchor-h2":"H3"===n?(m="cate-anchor-h3",f="╰ "):"H4"===n?(m="cate-anchor-h4",f="╰ "):"H5"===n?(m="cate-anchor-h5",f="┈ "):"H6"===n&&(m="cate-anchor-h6",f="┈ "),b.append('<li class="'+m+'"><a class="cate-anchor" data-anchor="#'+s[u].id+'">'+f+$(s[u]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")}$(".cate-anchor").click(C),w.removeClass("content-hidden");for(u=0,p=(r=$("#readme a").not(".cate-anchor")).length;u<p;++u){var g;void 0===(g=$(r[u]).attr("href"))||k(g)||(g=g.startsWith("/")?g:"/"+g,$(r[u]).attr({href:l+g})),$(r[u]).attr({target:"_blank"})}}function t(e,a){var n="https://github.com/"+e+"/"+a;if(h="awesome"===a?1:0,jsonURL="https://raw.githubusercontent.com/lockys/awesome.json/master/repo-json/"+e+"-"+a+".json",w.removeClass("content-hidden"),l.addClass("content-hidden"),l.html(""),b.html(""),$(".alert").html(""),$(".awesome-input").val(""),h)!function(){var a=[],t=$(".awesome-cate");t.html(""),Object.keys(r).forEach(function(e){var n=e.replace(/\W/g,"").toLowerCase();a=a.concat(r[e]),t.append('<strong><i class="fa fa-terminal" style="color: gray;"></i> '+e+'</strong><li><ul class="'+n+'-ul"></ul></li>'),r[e].forEach(function(e){var a=$("."+n+"-ul"),t="";t=-1<e.url.split("/").indexOf("github.com")?'<li><a href="#repos/'+e.repo+'"><span><i class="fa fa-bookmark"></i> '+e.name+"</span></a></li>":'<li><a href="'+e.url+'" target="_blank"><span><i class="fa fa-bookmark"></i> '+e.name+"</span></a></li>",a.append(t)})});var e=$("#sidedrawer"),n=$("strong",e);n.next().hide(),n.off("click"),n.on("click",function(){n.not(this).next().hide(),$(this).next().slideToggle(300)}),$(".repo-count-number").html(a.length),i=new Fuse(a,s)}(),w.addClass("content-hidden");else{var t='<a href="'+n+'" class="origin-repo-btn" target="_blank">View on <i class="fa fa-github"></i></a><a href="https://github.com/lockys/awesome-search/issues/new" target="_blank" class="origin-repo-btn"><i class="fa fa-exclamation-circle"></i> Create an issue about this Repo</a><br/><br/>';v.html('<div class="sk-spinner sk-spinner-pulse"></div>'),function(e,a,t,n,r){var s="https://api.github.com/repos/"+e+"/"+a+"/readme";$.ajax({url:s,headers:{accept:"application/vnd.github.v3.html"},success:function(e){r(e,t,n)}})}(e,a,n,t,d),function(e){var a=e.replace(/-/g," ");a=a.split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" "),document.title="Awesome Search - "+a}(a),$.getJSON(jsonURL,function(e){var a=e,t=[];if(o.removeClass("content-hidden"),0===Object.keys(a).length)return $(".alert").html('<span style="color: red;">This repo has not been parsed yet, we will support it soon.</span><br/>'),void o.addClass("content-hidden");a.forEach(function(e){if(!k(e.url)){var a="https://github.com/"+n.split("/")[3]+"/"+n.split("/")[4]+"/blob/master";e.url=a+e.url}t=t.concat(e)}),c=new Fuse(t,s)})}}$("input").on("input",function(e){var a=$(e.target).hasClass("cate-input"),t=$(this).val();(l=a?$(".cate-search-result"):$(".search-result")).removeClass("content-hidden"),l.html(""),t||l.addClass("content-hidden");var n=a?i.search(t):c.search(t),r="";n.length||l.html("No result :(");for(var s=0;s<15;++s)if(n[s]){n[s].name.replace(/\W/g,"").toLowerCase();var o=' href="'+n[s].url+'" ';h&&(o=""),r=n[s].description?" - "+n[s].description+"</br>":"<br/>",a?-1<n[s].url.split("/").indexOf("github.com")?l.append('<a href="#/repos/'+n[s].repo+'">'+n[s].name+"</a>"+r):l.append('<a href="'+n[s].url+'" target="_blank">'+n[s].name+"</a>"+r):l.append('<a href="'+n[s].url+'" class="search-repo-link"'+o+'target="_blank">'+n[s].name+"</a>"+r)}});var e=new(Backbone.Router.extend({routes:{"repos/:maintainer/:repo":"getRepos","":"getAwesome"}}));function k(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}function C(e){var a=$(e.target).data("anchor"),t=$(a).offset().top-$("#header").height();$("html, body").animate({scrollTop:t},300)}e.on("route:getRepos",function(e,a){$(".search-holder").html("Search "+a),t(e,a)}),e.on("route:getAwesome",function(){t("sindresorhus","awesome")}),$("body").click(function(e){$(e.target).hasClass("awesome-input")||$(e.target).hasClass("search-result")||$(e.target).hasClass("search-icon")||($(".awesome-input").val(""),$(".search-result").addClass("content-hidden"),$(".search-input").removeClass("hovered")),$(e.target).hasClass("cate-input")||$(e.target).hasClass("cate-search-result")||($(".cate-input").val(""),$(".cate-search-result").addClass("content-hidden"))}),$(".home-button").click(function(e){e.preventDefault(),window.location.hash="/",location.reload()}),$.getJSON("https://raw.githubusercontent.com/lockys/awesome.json/master/awesome/awesome.json",function(e){r=e,t("sindresorhus","awesome")}),Backbone.history.start()}),jQuery(function(t){var e=t("body"),n=t("#sidedrawer");t(".js-show-sidedrawer").on("click",function(){var e={onclose:function(){n.removeClass("active").appendTo(document.body)}},a=t(mui.overlay("on",e));n.appendTo(a),setTimeout(function(){n.addClass("active")},20)}),t(".js-hide-sidedrawer").on("click",function(){e.toggleClass("hide-sidedrawer")}),t(".to-top-arrow").click(function(){return t("html, body").animate({scrollTop:0},600),!1})});